<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
</head>
<body>

<script>
    //EcmaScript 5
    function oldDelay(ms, func){
        setTimeout(function(){
            func();
        }, ms)
    }

    oldDelay(3000, function(){console.log('Old delay passed')})

    //EcmaScript 6
    function delay(ms = 1000){
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                reject();
            }, ms)
        })
    }

    delay(4000)
        .then(() => {
            console.log('Delay Passed')
        })
        .catch(() => {
            console.info('error')
        })

    //////
    let promise = new Promise((resolve, reject) => {
        $.ajax({
            url: 'http://date.jsontest.com/',
            dataType: 'json',
            success: function(response){
                resolve(response);
            },
            error: function(error){
                reject(error);
            }
        });
    });

    promise
        .then((data) => {
            console.log('Success', data)
        })
        .catch((error) => {
            console.info(error)
        })
</script>
</body>
</html>