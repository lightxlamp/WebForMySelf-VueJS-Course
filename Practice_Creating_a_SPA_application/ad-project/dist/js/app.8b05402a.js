(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},s={app:0},n=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1086:function(t,e,r){},"132a":function(t,e,r){"use strict";var a=r("72a1"),s=r.n(a);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg",width:"300px",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.currentUserAvatar}})],1),a("v-list-item-content",[a("v-list-item-title",{staticStyle:{color:"white"}},[t._v(t._s(t.currentUserName))])],1)],1),t._l(t.links,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.url}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?a("v-list-item",{on:{click:t.onLogout}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-exit-to-app")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Выйти")])],1)],1):t._e()],2)],1)],1),a("v-divider")],1),a("v-app-bar",{attrs:{app:"",color:"rgb(14,117,189)",dark:""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("router-link",{attrs:{to:"/"}},[a("v-img",{attrs:{src:r("c581"),height:"40"}})],1),a("v-toolbar-title",[a("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("vue-stas-store.com")])],1),a("div",{staticClass:"userInfoDiv"},[t._v(" "+t._s(t.currentUserInfo)+" ")]),a("div",{staticClass:"locale-changer"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.$i18n.locale,expression:"$i18n.locale"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$i18n,"locale",e.target.multiple?r:r[0])}}},t._l(t.langs,(function(e,r){return a("option",{key:"Lang"+r,domProps:{value:e}},[t._v(t._s(e))])})),0)]),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,(function(e){return a("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[a("v-icon",{attrs:{left:""}},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggedIn?a("v-btn",{attrs:{text:""},on:{click:t.onLogout}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-exit-to-app")]),t._v(" "+t._s(t.$t("text.signOut"))+" ")],1):t._e()],2)],1),a("v-content",[a("router-view")],1),t.error?[a("v-snackbar",{attrs:{timeout:t.timeout,"multi-line":"",color:"error",top:"",value:!0},on:{input:t.closeError}},[t._v(" "+t._s(t.error)+" "),a("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(e){return t.closeError(e)}}},[t._v("Закрыть")])],1)]:t._e(),a("v-footer",{attrs:{color:"rgb(14,117,189)",app:""}},[a("span",{staticClass:"white--text"},[t._v("© 2011–2020, «Lightxlamp», Inc or its affiliates")])])],2)],1)},n=[],i={name:"locale-changer",props:{source:String},data:function(){return{drawer:null,timeout:5e3,langs:["ru","en"]}},computed:{error:function(){return this.$store.getters.error},currentUserAvatar:function(){return this.$store.getters.currentUserAvatar},currentUserName:function(){return this.$store.getters.currentUserName},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:this.$t("text.orders"),icon:"mdi-bookmark",url:"/orders"},{title:this.$t("text.newAd"),icon:"mdi-note",url:"/new"},{title:this.$t("text.myAds"),icon:"mdi-clipboard-list",url:"/list"},{title:this.$t("text.myAccount"),icon:"mdi-account",url:"/account"}]:[{title:this.$t("text.signIn"),icon:"mdi-lock",url:"/login"},{title:this.$t("text.registration"),icon:"mdi-face",url:"/registration"}]},currentUserInfo:function(){return console.log("this.$store.getters.user: ",this.$store.getters.user),null!==this.$store.getters.user?"Здравствуйте, "+this.$store.getters.currentUserName:"No user logged in"}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}}},o=i,l=(r("132a"),r("2877")),c=r("6544"),d=r.n(c),u=r("7496"),p=r("40dc"),m=r("5bc1"),v=r("8336"),f=r("b0af"),g=r("a75b"),h=r("ce7e"),x=r("553a"),b=r("132d"),y=r("adda"),w=r("8860"),_=r("da13"),V=r("8270"),C=r("5d23"),$=r("1baa"),A=r("34c3"),k=r("f774"),O=r("2db4"),I=r("2fa4"),L=r("2a7f"),U=Object(l["a"])(o,s,n,!1,null,null,null),j=U.exports;d()(U,{VApp:u["a"],VAppBar:p["a"],VAppBarNavIcon:m["a"],VBtn:v["a"],VCard:f["a"],VContent:g["a"],VDivider:h["a"],VFooter:x["a"],VIcon:b["a"],VImg:y["a"],VList:w["a"],VListItem:_["a"],VListItemAvatar:V["a"],VListItemContent:C["a"],VListItemGroup:$["a"],VListItemIcon:A["a"],VListItemTitle:C["c"],VNavigationDrawer:k["a"],VSnackbar:O["a"],VSpacer:I["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var S=r("f309"),E=r("fcf4");a["a"].use(S["a"]);var R=new S["a"]({theme:{themes:{light:{secondary:E["a"].red.lighten4,accent:E["a"].indigo.base,error:E["a"].red.darken1,positiveBtn:"#2196f3",openButton:E["a"].grey.lighten4}}}}),T=r("8c4f"),F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-sm-center pt-5",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)],1)],1)],1):r("div",[r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-carousel",{attrs:{cycle:"",interval:"4000","show-arrows-on-hover":""}},t._l(t.promoAds,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc,contain:""}},[r("div",{staticClass:"car-link"},[r("v-btn",{staticClass:"positiveBtn",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1)],1)],1),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.ads,(function(e){return r("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:""}},[r("v-card",{staticClass:"mx-auto pt-5"},[r("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:e.imageSrc,contain:""}},[r("v-card-title",[t._v(t._s(e.title))])],1),r("v-card-subtitle",{staticClass:"pb-1 price"},[t._v("$"+t._s(e.price))]),r("v-card-text",{staticClass:"text--primary"},[r("div",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-btn",{staticClass:"openBtn openButton",attrs:{text:"",to:"/ad/"+e.id}},[t._v(" "+t._s(t.$t("text.open"))+" ")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)})),1)],1)],1)},P=[],D={computed:{promoAds:function(){return console.log("this.$store.getters.promoAds",this.$store.getters.promoAds),this.$store.getters.promoAds},ads:function(){return console.log("this.$store.getters.ads",this.$store.getters.ads),this.$store.getters.ads},loading:function(){return this.$store.getters.loading}}},B=D,N=(r("a6ea"),r("99d9")),M=r("5e66"),z=r("3e35"),Y=r("a523"),H=r("0e8f"),W=r("a722"),q=r("490a"),G=Object(l["a"])(B,F,P,!1,null,"0d43401f",null),J=G.exports;d()(G,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardSubtitle:N["b"],VCardText:N["c"],VCardTitle:N["d"],VCarousel:M["a"],VCarouselItem:z["a"],VContainer:Y["a"],VFlex:H["a"],VImg:y["a"],VLayout:W["a"],VProgressCircular:q["a"]});var K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"grey lighten-5"},[t.loading?r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"auto"}},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)],1):r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-img",{attrs:{src:t.ad.imageSrc}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-card-text",{staticClass:"AdDescription",attrs:{outlined:"",tile:""}},[r("h1",{staticClass:"text--primary"},[t._v(t._s(t.ad.title))]),r("p",[t._v(t._s(t.ad.description))]),r("div",{staticClass:"price"},[t._v("$"+t._s(t.ad.price))])]),r("v-card-actions",[t.isOwner?r("edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),t.isOwner?t._e():r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)},Q=[],X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"primary mr-2",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.edit")))]),r("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h3",{staticClass:"text--primary"},[t._v(t._s(t.$t("text.editAd")))])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{label:t.$t("text.title"),name:"title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-textarea",{attrs:{label:t.$t("text.description"),name:"description",type:"text",rows:"14"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}}),r("v-text-field",{attrs:{name:"price",label:t.$t("text.price"),type:"number"},model:{value:t.editedPrice,callback:function(e){t.editedPrice=e},expression:"editedPrice"}})],1)],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"primary",on:{click:t.onMySave}},[t._v(t._s(t.$t("text.save")))]),r("v-btn",{attrs:{text:""},on:{click:t.onMyCancel}},[t._v(t._s(t.$t("text.cancel")))])],1)],1)],1)],1)],1)],1)],1)},Z=[],tt=(r("a4d3"),r("e01a"),{props:["ad"],data:function(){return{dialog:!1,editedDescription:this.ad.description,editedTitle:this.ad.title,editedPrice:this.ad.price}},methods:{onMyCancel:function(){this.editedDescription=this.ad.description,this.editedTitle=this.ad.title,this.editedPrice=this.ad.price,this.dialog=!1},onMySave:function(){""!==this.editedDescription&&""!==this.editedTitle&&""!==this.editedPrice&&this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,price:this.editedPrice,id:this.ad.id}),this.dialog=!1}}}),et=tt,rt=r("169a"),at=r("8654"),st=r("a844"),nt=Object(l["a"])(et,X,Z,!1,null,null,null),it=nt.exports;d()(nt,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardText:N["c"],VCardTitle:N["d"],VContainer:Y["a"],VDialog:rt["a"],VDivider:h["a"],VFlex:H["a"],VLayout:W["a"],VSpacer:I["a"],VTextField:at["a"],VTextarea:st["a"]});var ot={props:["id"],computed:{ad:function(){var t=this.id;return this.$store.getters.adById(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return null!==this.$store.getters.user&&this.ad.ownerId===this.$store.getters.user.id}},components:{EditAdModal:it}},lt=ot,ct=(r("680e"),r("62ad")),dt=r("0fd9"),ut=Object(l["a"])(lt,K,Q,!1,null,"097d7ed6",null),pt=ut.exports;d()(ut,{VCardActions:N["a"],VCardText:N["c"],VCol:ct["a"],VContainer:Y["a"],VImg:y["a"],VProgressCircular:q["a"],VRow:dt["a"]});var mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{attrs:{row:"","justify-center":"",id:"loading"}},[r("div",{staticClass:"ma-12"},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)]):t.loading||0===t.myAds.length?t.loading||0!==t.myAds.length?t._e():r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.$t("text.youDoNotHaveAds")))])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm10:"",md10:"",lg10:"",xl8:"","offset-sm1":"","offset-md1":"","offset-lg1":"","offset-xl2":""}},[r("h1",{staticClass:"text--secondary mb-3 ml-5"},[t._v(" "+t._s(t.$t("text.listOfYourAds"))+" ")]),t._l(t.myAds,(function(e){return r("v-card",{key:e.id,staticClass:"elevation-10 mb-5 pl-7 pt-5 pb-5"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm11:"",md6:"",lg6:""}},[r("v-img",{attrs:{src:e.imageSrc}})],1),r("v-flex",{attrs:{xs11:"",sm12:"",md6:"",lg6:""}},[r("v-card-text",{staticClass:"pr-sm-10 pr-md-10 pr-lg-10"},[r("h2",{staticClass:"text--primary"},[t._v(t._s(e.title))]),r("p",{staticClass:"adDescription pt-3"},[t._v(t._s(e.description))])]),r("v-card-subtitle",{staticClass:"price pa-0 pl-4"},[t._v(" $"+t._s(e.price)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"info",attrs:{to:"/ad/"+e.id}},[t._v(t._s(t.$t("text.open")))])],1),r("v-card-actions",[r("v-spacer"),r("app-delete-modal",{attrs:{ad:e}})],1)],1)],1)],1)}))],2)],1)],1)},vt=[],ft={computed:{myAds:function(){return this.$store.getters.myAds},loading:function(){return this.$store.getters.loading}}},gt=ft,ht=(r("dbfa"),Object(l["a"])(gt,mt,vt,!1,null,"0e787c22",null)),xt=ht.exports;d()(ht,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardSubtitle:N["b"],VCardText:N["c"],VContainer:Y["a"],VFlex:H["a"],VImg:y["a"],VLayout:W["a"],VProgressCircular:q["a"],VSpacer:I["a"]});var bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs10:"",sm8:"",md8:"",lg8:"",xl6:"","offset-xs1":"","offset-sm2":"","offset-md2":"","offset-lg2":"","offset-xl3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v(t._s(t.$t("text.addAd")))]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:t.$t("text.title"),type:"text",required:"",rules:t.titleRules},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{id:"password",name:"desctiption",label:t.$t("text.description"),type:"text",multiline:"",rules:t.descRules},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),r("v-text-field",{attrs:{name:"price",label:t.$t("text.price"),type:"number",required:"",rules:t.priceRules},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.triggerUpload}},[t._v(" "+t._s(t.$t("text.uploadImage"))+" "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.imageSrc?r("img",{staticClass:"ma-2",attrs:{src:t.imageSrc,height:"300px",alt:""}}):t._e()])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-switch",{staticClass:"pl-2",attrs:{label:t.$t("text.addToPromo")},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-spacer"),r("v-btn",{staticClass:"success ml-2",attrs:{loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.createAd}},[t._v(t._s(t.$t("text.createAd")))])],1)],1)],1)],1)],1)},yt=[],wt={data:function(){return{title:"",promo:!1,description:"",valid:!1,image:!1,imageSrc:"",price:""}},computed:{loading:function(){return this.$store.getters.loading},titleRules:function(){var t=this;return[function(e){return!!e||t.$t("text.titleIsMandatoryField")}]},descRules:function(){var t=this;return[function(e){return!!e||t.$t("text.descIsMandatoryField")}]},priceRules:function(){var t=this;return[function(e){return!!e||t.$t("text.priceIsMandatoryField")}]}},methods:{createAd:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,image:this.image,price:this.price};this.$store.dispatch("createAd",e).then((function(){t.$router.push("/list")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r}}},_t=wt,Vt=r("4bd4"),Ct=r("b73d"),$t=Object(l["a"])(_t,bt,yt,!1,null,"709fb959",null),At=$t.exports;d()($t,{VBtn:v["a"],VContainer:Y["a"],VFlex:H["a"],VForm:Vt["a"],VIcon:b["a"],VLayout:W["a"],VSpacer:I["a"],VSwitch:Ct["a"],VTextField:at["a"],VTextarea:st["a"]});var kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v(t._s(t.$t("text.loginForm"))+" ")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:t.$t("text.email"),name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:t.$t("text.password"),name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||t.loading,loading:t.loading,color:"primary"},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("text.loginBtn"))+" ")])],1)],1)],1)],1)],1)},Ot=[],It={data:function(){return{valid:!1,email:"",password:"",emailRules:[function(t){return!!t||"Электронный адрес - обязательное поле"},function(t){return/.+@.+/.test(t)||"Некоректный формат адреса"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t.length>=6||"Пароль должен быть не меньше 6ти символов"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},Lt=It,Ut=r("71d9"),jt=Object(l["a"])(Lt,kt,Ot,!1,null,"7fa6eac8",null),St=jt.exports;d()(jt,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardText:N["c"],VCol:ct["a"],VContainer:Y["a"],VForm:Vt["a"],VRow:dt["a"],VSpacer:I["a"],VTextField:at["a"],VToolbar:Ut["a"],VToolbarTitle:L["b"]});var Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Форма регистрации")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{id:"confirm-password",label:"Пароль повторно",name:"confirm-password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.confirmPasswordRules},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||!0===t.loading,loading:t.loading,color:"primary"},on:{click:t.onSubmit}},[t._v(" Зарегестрироваться ")])],1)],1)],1)],1)],1)},Rt=[],Tt={data:function(){var t=this;return{valid:!1,email:"",password:"",confirmPassword:"",emailRules:[function(t){return!!t||"Электронный адрес - обязательное поле"},function(t){return/.+@.+/.test(t)||"Некоректный формат адреса"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t.length>=6||"Пароль должен быть не меньше 6ти символов"}],confirmPasswordRules:[function(t){return!!t||"Подтверждающий пароль - обязательное поле"},function(e){return e===t.password||"Пароли должны совпадать"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},Ft=Tt,Pt=Object(l["a"])(Ft,Et,Rt,!1,null,"e27080a6",null),Dt=Pt.exports;d()(Pt,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardText:N["c"],VCol:ct["a"],VContainer:Y["a"],VForm:Vt["a"],VRow:dt["a"],VSpacer:I["a"],VTextField:at["a"],VToolbar:Ut["a"],VToolbarTitle:L["b"]});var Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{attrs:{row:"","justify-center":"",id:"loading"}},[r("div",{staticClass:"ma-12"},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)]):t.loading||0===t.orders.length?r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xl-start",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.$t("text.youDoNotHaveOrders")))])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Заказы")]),r("v-list",{attrs:{subheader:"","two-line":"",flat:""}},[r("v-list-item-group",{attrs:{multiple:""}},t._l(t.orders,(function(e){return r("v-list-item",{key:e.id},[[r("v-list-item-action",[r("v-checkbox",{attrs:{color:"success","input-value":e.done},on:{change:function(r){return t.markDone(e)}}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.phone))])],1),r("v-list-item-action",[r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.adId}},[t._v("Открыть")])],1)]],2)})),1)],1)],1)],1)],1)},Nt=[],Mt={methods:{markDone:function(t){this.$store.dispatch("markOrderAsDone",t.id).then((function(){t.done=!0})).catch((function(){}))}},computed:{loading:function(){return this.$store.getters.loading},orders:function(){return this.$store.getters.allOrders}},created:function(){this.$store.dispatch("fetchOrders")}},zt=Mt,Yt=r("ac7c"),Ht=r("1800"),Wt=Object(l["a"])(zt,Bt,Nt,!1,null,"5032b36a",null),qt=Wt.exports;d()(Wt,{VBtn:v["a"],VCheckbox:Yt["a"],VContainer:Y["a"],VFlex:H["a"],VLayout:W["a"],VList:w["a"],VListItem:_["a"],VListItemAction:Ht["a"],VListItemContent:C["a"],VListItemGroup:$["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VProgressCircular:q["a"]});var Gt=r("2f62"),Jt=(r("99af"),r("4de4"),r("7db0"),r("4160"),r("baa5"),r("fb6a"),r("a434"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("841c"),r("159b"),r("2fa7")),Kt=(r("96cf"),r("9f12")),Qt=r("8aa5");function Xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xt(r,!0).forEach((function(e){Object(Jt["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var te=function t(e,r,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(Kt["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=s,this.promo=n,this.price=i,this.id=o},ee={state:{ads:[]},actions:{createAd:function(t,e){var r,a,s,n,i,o,l;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=t.commit,a=t.getters,console.log("CreateAd Action is called"),r("clearError"),r("setLoading",!0),console.log("= adObjFromForm: ",e),s=e.image,console.log("= Image: ",s),c.prev=7,n=new te(e.title,e.description,a.user.id,e.imageSrc,e.promo,e.price),console.log("= NewAd: ",n),c.next=12,regeneratorRuntime.awrap(Qt["database"]().ref("ads").push(n));case 12:return i=c.sent,console.log("fireBaseAdValue: ",i),o=s.name.slice(s.name.lastIndexOf(".")),console.log("ImageExtension: ",o),c.next=18,regeneratorRuntime.awrap(Qt["storage"]().ref("ads/".concat(i.key,".").concat(o)).put(s));case 18:l=c.sent,console.log("= fileData: ",l),l.ref.getDownloadURL().then((function(t){Qt["database"]().ref("ads").child(i.key).update({imageSrc:t}),r("setLoading",!1),r("createAd",Zt({},n,{imageSrc:t,id:i.key})),console.log(t)})).then(),c.next=30;break;case 23:throw c.prev=23,c.t0=c["catch"](7),r("setError".error.message),console.log(c.t0.message),r("setLoading",!1),alert("Create ad Error"),c.t0;case 30:case"end":return c.stop()}}),null,null,[[7,23]])},fetchAds:function(t){var e,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.commit,e("clearError"),e("setLoading",!0),r=[],n.prev=4,n.next=7,regeneratorRuntime.awrap(Qt["database"]().ref("ads").once("value"));case 7:a=n.sent,console.log(a.val()),s=a.val(),null!=s&&Object.keys(s).forEach((function(t){var e=s[t];r.push(new te(e.title,e.description,e.ownerId,e.imageSrc,e.promo,e.price,t))})),e("loadAds",r),e("setLoading",!1),n.next=20;break;case 15:throw n.prev=15,n.t0=n["catch"](4),e("setError",n.t0.message),e("setLoading",!1),n.t0;case 20:case"end":return n.stop()}}),null,null,[[4,15]])},updateAd:function(t,e){var r,a,s,n,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,a=e.title,s=e.description,n=e.price,i=e.id,r("clearError"),r("setLoading",!0),console.log("UpdateAd action is called"),o.prev=5,o.next=8,regeneratorRuntime.awrap(Qt["database"]().ref("ads").child(i).update({title:a,description:s,price:n}));case 8:r("updateAd",{title:a,description:s,price:n,id:i}),r("setLoading",!1),o.next=17;break;case 12:throw o.prev=12,o.t0=o["catch"](5),r("setError",o.t0.message),r("setLoading",!1),o.t0;case 17:case"end":return o.stop()}}),null,null,[[5,12]])},deleteAd:function(t,e){var r,a,s,n,i,o,l;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=t.commit,a=e.id,s=e.imageSrc,r("clearError"),r("setLoading",!0),console.log("DeleteAd action is called"),console.log("ImageSrc",s),n=a+".",c.prev=7,c.next=10,regeneratorRuntime.awrap(Qt["database"]().ref("ads").child(a).remove());case 10:i=[".png",".bmp",".jpg"],o=0;case 12:if(!(o<i.length)){c.next=22;break}if(l=s.search(i[o]),-1==l){c.next=19;break}return console.log("Image extension is",i[o]),n+=i[o],console.log("Image name with Ext",n),c.abrupt("break",22);case 19:o++,c.next=12;break;case 22:return c.t0=regeneratorRuntime,c.next=25,regeneratorRuntime.awrap(Qt["storage"]().ref("ads").child(n).delete());case 25:return c.t1=c.sent,c.next=28,c.t0.awrap.call(c.t0,c.t1);case 28:r("deleteAd",{id:a}),r("setLoading",!1),c.next=37;break;case 32:throw c.prev=32,c.t2=c["catch"](7),r("setError",c.t2.message),r("setLoading",!1),c.t2;case 37:case"end":return c.stop()}}),null,null,[[7,32]])}},mutations:{createAd:function(t,e){console.log("CreateAd mutation is called"),console.log(t),console.log("adObjFromFormAndFireBase:",e),t.ads.push(e)},loadAds:function(t,e){t.ads=e},updateAd:function(t,e){var r=e.title,a=e.description,s=e.price,n=e.id;console.log("UpdateAd mutation is called"),console.log("Id",n);var i=null;if(void 0!==t.ads)for(var o=0;o<t.ads.length;o++)if(t.ads[o].id===n){i=t.ads[o];break}console.log("Ad to edit found",i),i.title=r,i.description=a,i.price=s},deleteAd:function(t,e){var r=e.id;if(console.log("deleteAd mutation is called"),console.log("Id",r),void 0!==t.ads)for(var a=0;a<t.ads.length;a++)if(t.ads[a].id===r){t.ads.splice(a,1);break}}},getters:{ads:function(t){return t.ads},promoAds:function(t){return t.ads.filter((function(t){return!0===t.promo}))},myAds:function(t,e){return console.log("state ads",t.ads),console.log("getters user id",e.user.id),t.ads.filter((function(t){return t.ownerId===e.user.id}))},adById:function(t){return function(e){return t.ads.find((function(t){return t.id===e}))}}}},re=function t(e){Object(Kt["a"])(this,t),this.id=e},ae={state:{user:null,firebaseUserObject:null},mutations:{setUser:function(t,e){t.user=e},setFireBaseUserObject:function(t,e){t.firebaseUserObject=e}},actions:{registerUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.commit,a=e.email,s=e.password,r("clearError"),r("setLoading",!0),i.prev=4,i.next=7,regeneratorRuntime.awrap(Qt["auth"]().createUserWithEmailAndPassword(a,s));case 7:n=i.sent,r("setUser",new re(n.uid)),r("setLoading",!1),i.next=17;break;case 12:throw i.prev=12,i.t0=i["catch"](4),r("setLoading",!1),r("setError",i.t0.message),i.t0;case 17:case"end":return i.stop()}}),null,null,[[4,12]])},loginUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.commit,a=e.email,s=e.password,r("clearError"),r("setLoading",!0),i.prev=4,i.next=7,regeneratorRuntime.awrap(Qt["auth"]().signInWithEmailAndPassword(a,s));case 7:n=i.sent,console.log("userFromFireBase",n),console.log("userFromFireBase.UID",n.user.uid),console.log("userFromFireBase.Name",n.user.displayName),r("setFireBaseUserObject",n),r("setUser",new re(n.user.uid)),r("setLoading",!1),i.next=21;break;case 16:throw i.prev=16,i.t0=i["catch"](4),r("setLoading",!1),r("setError",i.t0.message),i.t0;case 21:case"end":return i.stop()}}),null,null,[[4,16]])},updateUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.commit,a=e.userName,s=e.avatarSrc,r("clearError"),r("setLoading",!0),console.log("userName",a),console.log("avatarSrc",s),i.prev=6,n=this.firebaseUserObject.user,console.log("Before: this.firebaseUserObject.user.displayName",n.displayName),console.log("Before: this.firebaseUserObject.user.photoURL",n.photoURL),i.next=12,regeneratorRuntime.awrap(n.updateProfile({displayName:a,photoURL:s}));case 12:console.log("After: this.firebaseUserObject.user.displayName",n.displayName),console.log("After: this.firebaseUserObject.user.photoURL",n.photoURL),r("setLoading",!1),i.next=20;break;case 17:throw i.prev=17,i.t0=i["catch"](6),i.t0;case 20:case"end":return i.stop()}}),null,this,[[6,17]])},autoLoginUser:function(t,e){var r=t.commit;r("setUser",new re(e.uid))},logoutUser:function(t){var e=t.commit;Qt["auth"]().signOut(),e("setUser",null),e("setFireBaseUserObject",null)}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user},firebaseUserObject:function(t){return t.firebaseUserObject},currentUserAvatar:function(t){return null!==t.firebaseUserObject?t.firebaseUserObject.user.photoURL:"http://bootdey.com/img/Content/avatar/avatar7.png"},currentUserName:function(t){return null!==t.firebaseUserObject?t.firebaseUserObject.user.displayName:"Unauthorized user"}}},se={state:{loading:!1,error:null},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},ne=function t(e,r,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(Kt["a"])(this,t),this.name=e,this.phone=r,this.adId=a,this.done=s,this.id=n},ie={state:{orders:[]},actions:{createOrder:function(t,e){var r,a,s,n,i,o;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return r=t.commit,a=e.name,s=e.phone,n=e.adId,i=e.ownerId,o=new ne(a,s,n),console.log("Order",o),r("clearError"),l.prev=5,l.next=8,regeneratorRuntime.awrap(Qt["database"]().ref("/users/".concat(i,"/orders")).push(o));case 8:l.next=13;break;case 10:l.prev=10,l.t0=l["catch"](5),r("setError",l.t0.message);case 13:case"end":return l.stop()}}),null,null,[[5,10]])},fetchOrders:function(t){var e,r,a,s,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.commit,r=t.getters,e("setLoading",!0),e("clearError"),a=[],i.prev=4,i.next=7,regeneratorRuntime.awrap(Qt["database"]().ref("/users/".concat(r.user.id,"/orders")).once("value"));case 7:s=i.sent,n=s.val(),null!=n&&(console.log("++++ Before object keys",n),Object.keys(n).forEach((function(t){var e=n[t];a.push(new ne(e.name,e.phone,e.adId,e.done,t))}))),e("loadOrders",a),e("setLoading",!1),i.next=18;break;case 14:i.prev=14,i.t0=i["catch"](4),e("setLoading",!1),e("setError",i.t0.message);case 18:case"end":return i.stop()}}),null,null,[[4,14]])},markOrderAsDone:function(t,e){var r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=t.getters,r("clearError"),s.prev=2,s.next=5,regeneratorRuntime.awrap(Qt["database"]().ref("/users/".concat(a.user.id,"/orders")).child(e).update({done:!0}));case 5:s.next=11;break;case 7:throw s.prev=7,s.t0=s["catch"](2),r("setError",s.t0.message),s.t0;case 11:case"end":return s.stop()}}),null,null,[[2,7]])}},mutations:{loadOrders:function(t,e){t.orders=e}},getters:{completedOrders:function(t){return t.orders.filter((function(t){return t.done}))},incompliteOrders:function(t){return t.orders.filter((function(t){return!t.done}))},allOrders:function(t,e){return e.incompliteOrders.concat(e.completedOrders)}}};a["a"].use(Gt["a"]);var oe=new Gt["a"].Store({modules:{ads:ee,user:ae,shared:se,orders:ie}}),le=function(t,e,r){oe.getters.user?r():r("/login?loginError=true")},ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Аккаунт")]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"userName",label:"Имя",type:"text",required:"",rules:[function(t){return t&&t.length<=15||"Извините. Имя не должно превышать 15 символов"}]},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.triggerUpload}},[t._v(" Загрузить новый аватар "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("v-btn",{staticClass:"ma-2 success",attrs:{loading:t.loading,disabled:!t.valid||!t.avatarSrc||t.loading},on:{click:t.updateUser}},[t._v("Сохранить изменения")]),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.avatarSrc?r("img",{staticClass:"ma-2",attrs:{src:t.avatarSrc,height:"300px",alt:""}}):t._e()])],1)],1)],1)],1)},de=[],ue={data:function(){return{valid:!1,avatarSrc:!1,userName:this.$store.getters.currentUserName}},mounted:function(){},computed:{loading:function(){return this.$store.getters.loading},currentUserName:function(){return this.$store.getters.firebaseUserObject.user.displayName}},methods:{updateUser:function(){if(this.$refs.form.validate()&&this.avatarSrc){var t={userName:this.userName,avatarSrc:"https://www.w3schools.com/howto/img_avatar.png"};this.$store.dispatch("updateUser",t).then((function(){alert("Аккаунт обновлен")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.avatarSrc=a.result},a.readAsDataURL(r),this.avatarSrc=r}}},pe=ue,me=Object(l["a"])(pe,ce,de,!1,null,"b7d15d1a",null),ve=me.exports;d()(me,{VBtn:v["a"],VContainer:Y["a"],VFlex:H["a"],VForm:Vt["a"],VIcon:b["a"],VLayout:W["a"],VTextField:at["a"]}),a["a"].use(T["a"]);var fe=new T["a"]({routes:[{path:"",name:"Home",component:J},{path:"/ad/:id",props:!0,name:"Ad",component:pt},{path:"/list",name:"AdList",component:xt,beforeEnter:le},{path:"/new",name:"NewAd",component:At,beforeEnter:le},{path:"/login",name:"Login",component:St},{path:"/registration",name:"Registration",component:Dt},{path:"/orders",name:"Orders",component:qt,beforeEnter:le},{path:"/account",name:"Account",component:ve,beforeEnter:le}],mode:"history"}),ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"primary mr-2",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.buy")))]),r("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",{staticClass:"text--primary"},[t._v(" "+t._s(t.$t("text.doYouWannaBuyThis"))+" ")])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{name:"name",label:t.$t("text.yourName"),type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{name:"phone",label:t.$t("text.yourPhone"),type:"text"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"success",attrs:{"aria-disabled":t.localLoading,loading:t.localLoading},on:{click:t.onMyBuy}},[t._v(" "+t._s(t.$t("text.buy"))+" ")]),r("v-btn",{attrs:{"aria-disabled":t.localLoading,text:""},on:{click:t.onMyCancel}},[t._v(" "+t._s(t.$t("text.cancel"))+" ")])],1)],1)],1)],1)],1)],1)],1)},he=[],xe={props:["ad"],data:function(){return{dialog:!1,name:"",phone:"",localLoading:!1}},methods:{onMyCancel:function(){this.name="",this.phone="",this.dialog=!1},onMyBuy:function(){var t=this;""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally((function(){t.name="",t.phone="",t.localLoading=!1,t.dialog=!1})))}}},be=xe,ye=Object(l["a"])(be,ge,he,!1,null,null,null),we=ye.exports;d()(ye,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardText:N["c"],VCardTitle:N["d"],VContainer:Y["a"],VDialog:rt["a"],VDivider:h["a"],VFlex:H["a"],VLayout:W["a"],VSpacer:I["a"],VTextField:at["a"]});var _e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"error",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.delete")))]),r("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h3",{staticClass:"text--primary"},[t._v(t._s(t.$t("text.deleteThisAd")))])])],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"primary",on:{click:t.onMyDelete}},[t._v(t._s(t.$t("text.delete")))]),r("v-btn",{staticClass:"openButton",attrs:{text:""},on:{click:t.onMyCancel}},[t._v(t._s(t.$t("text.cancel")))])],1)],1)],1)],1)],1)],1)],1)},Ve=[],Ce={props:["ad"],data:function(){return{dialog:!1}},methods:{onMyCancel:function(){this.dialog=!1},onMyDelete:function(){this.$store.dispatch("deleteAd",{id:this.ad.id,imageSrc:this.ad.imageSrc}),this.dialog=!1}}},$e=Ce,Ae=Object(l["a"])($e,_e,Ve,!1,null,null,null),ke=Ae.exports;d()(Ae,{VBtn:v["a"],VCard:f["a"],VCardActions:N["a"],VCardTitle:N["d"],VContainer:Y["a"],VDialog:rt["a"],VFlex:H["a"],VLayout:W["a"],VSpacer:I["a"]});var Oe=r("d622"),Ie=r.n(Oe),Le=r("a925"),Ue={text:{loginForm:"Sign-In",password:"Password",email:"Email",loginBtn:"Sign-in",orders:"Orders",newAd:"Create new Ad",myAds:"My Ads",myAccount:"My Account",signOut:"Sign Out",signIn:"Sign In",registration:"Create Account",doYouWannaBuyThis:"Do you want to buy this?",buy:"Buy",cancel:"Cancel",open:"Open",delete:"Delete",yourName:"Your name",yourPhone:"Your phone",youDoNotHaveOrders:"You do not have any order yet",youDoNotHaveAds:"You have no any ad yet",addAd:"Create new Ad",uploadImage:"Upload Image",addToPromo:"Add to promo?",createAd:"Create ad",title:"Title",description:"Description",titleIsMandatoryField:"Title is a mandatory field",descIsMandatoryField:"Description is a mandatory field",priceIsMandatoryField:"Price is a mandatory field",listOfYourAds:"List of  your ads",price:"Price",edit:"Edit",editAd:"Edit ad",save:"Save",deleteThisAd:"Delete this ad?"}},je={text:{loginForm:"Форма входа",password:"Пароль",email:"Почта",loginBtn:"Войти",orders:"Заказы",newAd:"Новое объявление",myAds:"Мои объявления",myAccount:"Мой аккаунт",signOut:"Выйти",signIn:"Войти",registration:"Регистрация",doYouWannaBuyThis:"Вы хотите купить этот товар?",buy:"Купить",cancel:"Отмена",open:"Открыть",delete:"Удалить",yourName:"Ваше имя",yourPhone:"Ваш телефон",youDoNotHaveOrders:"У Вас нет заказов",youDoNotHaveAds:"У Вас пока нет объявлений",addAd:"Добавить объявление",uploadImage:"Загрузить изображение",addToPromo:"Добавить в промо?",createAd:"Создать объявление",title:"Название",description:"Описание",titleIsMandatoryField:"Название товара - обязательное поле",descIsMandatoryField:"Описание товара - обязательное поле",priceIsMandatoryField:"Цена товара - обязательное поле",listOfYourAds:"Список ваших объявлений",price:"Цена",edit:"Редактировать",editAd:"Редактировать объявление",save:"Сохранить",deleteThisAd:"Удалить это объявление?"}};a["a"].config.productionTip=!1,a["a"].component("app-buy-modal",we),a["a"].component("app-delete-modal",ke),a["a"].use(R),a["a"].use(Le["a"]);var Se={en:Ue,ru:je},Ee=new Le["a"]({locale:"en",messages:Se});new a["a"]({router:fe,store:oe,vuetify:R,i18n:Ee,created:function(){var t=this;Qt["initializeApp"](Ie.a),Qt["auth"]().onAuthStateChanged((function(e){e&&t.$store.dispatch("autoLoginUser",e)})),this.$store.dispatch("fetchAds")},render:function(t){return t(j)}}).$mount("#app")},"680e":function(t,e,r){"use strict";var a=r("915e"),s=r.n(a);s.a},"72a1":function(t,e,r){},"915e":function(t,e,r){},a6ea:function(t,e,r){"use strict";var a=r("1086"),s=r.n(a);s.a},c581:function(t,e,r){t.exports=r.p+"img/my_vss_logo_1.b902ec46.png"},d3c4:function(t,e,r){},d622:function(t,e){t.exports={apiKey:"AIzaSyC-_fL99SRDOwRlcAvoDZsM58d2jTlBbNM",authDomain:"vue-ad-project-stas.firebaseapp.com",databaseURL:"https://vue-ad-project-stas.firebaseio.com",projectId:"vue-ad-project-stas",storageBucket:"vue-ad-project-stas.appspot.com",messagingSenderId:"83442067408",appId:"1:83442067408:web:5d9bc204b127dbe08c7bd5",measurementId:"G-8WP2EQKSYX"}},dbfa:function(t,e,r){"use strict";var a=r("d3c4"),s=r.n(a);s.a}});
//# sourceMappingURL=app.8b05402a.js.map