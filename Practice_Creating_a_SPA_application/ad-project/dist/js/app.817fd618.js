(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,i=1;i<r.length;i++){var l=r[i];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1086:function(t,e,r){},"132a":function(t,e,r){"use strict";var a=r("72a1"),s=r.n(a);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:"",absolute:"",temporary:"",src:"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg",width:"300px",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.currentUserAvatar}})],1),a("v-list-item-content",[a("v-list-item-title",{staticStyle:{color:"white"}},[t._v(t._s(t.currentUserName))])],1)],1),t._l(t.links,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.url}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?a("v-list-item",{on:{click:t.onLogout}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-exit-to-app")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("text.signOut")))])],1)],1):t._e()],2)],1)],1),a("v-divider")],1),a("v-app-bar",{attrs:{app:"",color:"rgb(14,117,189)",dark:""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("router-link",{attrs:{to:"/"}},[a("v-img",{attrs:{src:r("c581"),height:"40"}})],1),a("v-toolbar-title",[a("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("vue-stas-store.com")])],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[a("div",{staticClass:"userInfoDiv"},[a("p",[t._v(t._s(t.currentUserInfo))])]),a("div",{staticClass:"locale-changer",on:{click:function(e){return t.showSelect()}}},[a("v-select",{attrs:{items:t.langs,"prepend-icon":"mdi-earth"},model:{value:t.$i18n.locale,callback:function(e){t.$set(t.$i18n,"locale",e)},expression:"$i18n.locale"}})],1),t._l(t.links,(function(e){return a("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[a("v-icon",{attrs:{left:""}},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggedIn?a("v-btn",{attrs:{text:""},on:{click:t.onLogout}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-exit-to-app")]),t._v(" "+t._s(t.$t("text.signOut"))+" ")],1):t._e()],2)],1),a("v-content",[a("router-view")],1),t.error?[a("v-snackbar",{attrs:{timeout:t.timeout,"multi-line":"",color:"error",top:"",value:!0},on:{input:t.closeError}},[t._v(" "+t._s(t.error)+" "),a("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(e){return t.closeError(e)}}},[t._v("Закрыть")])],1)]:t._e(),a("v-footer",{attrs:{color:"rgb(14,117,189)",app:""}},[a("span",{staticClass:"white--text"},[t._v("© 2011–2020, «Lightxlamp», Inc or its affiliates")])])],2)],1)},n=[],o={name:"locale-changer",props:{source:String},data:function(){return{drawer:null,timeout:5e3,langs:["RU","EN"]}},computed:{error:function(){return this.$store.getters.error},currentUserAvatar:function(){return this.$store.getters.currentUserAvatar},currentUserName:function(){return this.$store.getters.currentUserName},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:this.$t("text.orders"),icon:"mdi-bookmark",url:"/orders"},{title:this.$t("text.newAd"),icon:"mdi-note",url:"/new"},{title:this.$t("text.myAds"),icon:"mdi-clipboard-list",url:"/list"},{title:this.$t("text.myAccount"),icon:"mdi-account",url:"/account"}]:[{title:this.$t("text.signIn"),icon:"mdi-lock",url:"/login"},{title:this.$t("text.registration"),icon:"mdi-face",url:"/registration"}]},currentUserInfo:function(){return console.log("this.$store.getters.user: ",this.$store.getters.user),null!==this.$store.getters.user&&"Unauthorized user"!=this.$store.getters.currentUserName?this.$t("text.hello")+", "+this.$store.getters.currentUserName:""}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")},showSelect:function(){this.$refs.selectLanguage.click()}},created:function(){window.addEventListener("beforeunload",this.onLogout)}},i=o,l=(r("132a"),r("2877")),c=r("6544"),d=r.n(c),u=r("7496"),p=r("40dc"),m=r("5bc1"),v=r("8336"),f=r("b0af"),g=r("a75b"),h=r("ce7e"),x=r("553a"),b=r("132d"),y=r("adda"),w=r("8860"),_=r("da13"),V=r("8270"),C=r("5d23"),$=r("1baa"),A=r("34c3"),k=r("f774"),O=r("b974"),I=r("2db4"),U=r("2fa4"),L=r("2a7f"),S=Object(l["a"])(i,s,n,!1,null,null,null),j=S.exports;d()(S,{VApp:u["a"],VAppBar:p["a"],VAppBarNavIcon:m["a"],VBtn:v["a"],VCard:f["a"],VContent:g["a"],VDivider:h["a"],VFooter:x["a"],VIcon:b["a"],VImg:y["a"],VList:w["a"],VListItem:_["a"],VListItemAvatar:V["a"],VListItemContent:C["a"],VListItemGroup:$["a"],VListItemIcon:A["a"],VListItemTitle:C["c"],VNavigationDrawer:k["a"],VSelect:O["a"],VSnackbar:I["a"],VSpacer:U["a"],VToolbarItems:L["a"],VToolbarTitle:L["b"]});var E=r("f309"),R=r("fcf4");a["a"].use(E["a"]);var T=new E["a"]({theme:{themes:{light:{secondary:R["a"].red.lighten4,accent:R["a"].indigo.base,error:R["a"].red.darken1,positiveBtn:"#2196f3",openButton:R["a"].grey.lighten4}}}}),F=r("8c4f"),P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-sm-center pt-5",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)],1)],1)],1):r("div",[r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-carousel",{attrs:{cycle:"",interval:"4000","show-arrows-on-hover":""}},t._l(t.promoAds,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc,contain:""}},[r("div",{staticClass:"car-link"},[r("v-btn",{staticClass:"positiveBtn",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1)],1)],1),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.ads,(function(e){return r("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:""}},[r("v-card",{staticClass:"mx-auto pt-5"},[r("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:e.imageSrc,contain:""}},[r("v-card-title",[t._v(t._s(e.title))])],1),r("v-card-subtitle",{staticClass:"pb-1 price"},[t._v("$"+t._s(e.price))]),r("v-card-text",{staticClass:"text--primary"},[r("div",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-btn",{staticClass:"openBtn openButton",attrs:{text:"",to:"/ad/"+e.id}},[t._v(" "+t._s(t.$t("text.open"))+" ")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)})),1)],1)],1)},D=[],B={computed:{promoAds:function(){return console.log("this.$store.getters.promoAds",this.$store.getters.promoAds),this.$store.getters.promoAds},ads:function(){return console.log("this.$store.getters.ads",this.$store.getters.ads),this.$store.getters.ads},loading:function(){return this.$store.getters.loading}}},N=B,M=(r("a6ea"),r("99d9")),Y=r("5e66"),z=r("3e35"),H=r("a523"),W=r("0e8f"),q=r("a722"),G=r("490a"),J=Object(l["a"])(N,P,D,!1,null,"0d43401f",null),K=J.exports;d()(J,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardSubtitle:M["b"],VCardText:M["c"],VCardTitle:M["d"],VCarousel:Y["a"],VCarouselItem:z["a"],VContainer:H["a"],VFlex:W["a"],VImg:y["a"],VLayout:q["a"],VProgressCircular:G["a"]});var Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"grey lighten-5"},[t.loading?r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"auto"}},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)],1):r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-img",{attrs:{src:t.ad.imageSrc}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-card-text",{staticClass:"AdDescription",attrs:{outlined:"",tile:""}},[r("h1",{staticClass:"text--primary"},[t._v(t._s(t.ad.title))]),r("p",[t._v(t._s(t.ad.description))]),r("div",{staticClass:"price"},[t._v("$"+t._s(t.ad.price))])]),r("v-card-actions",[t.isOwner?r("edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),t.isOwner?t._e():r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)},X=[],Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"primary mr-2",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.edit")))]),r("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h3",{staticClass:"text--primary"},[t._v(t._s(t.$t("text.editAd")))])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{label:t.$t("text.title"),name:"title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-textarea",{attrs:{label:t.$t("text.description"),name:"description",type:"text",rows:"14"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}}),r("v-text-field",{attrs:{name:"price",label:t.$t("text.price"),type:"number"},model:{value:t.editedPrice,callback:function(e){t.editedPrice=e},expression:"editedPrice"}})],1)],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"primary",on:{click:t.onMySave}},[t._v(t._s(t.$t("text.save")))]),r("v-btn",{attrs:{text:""},on:{click:t.onMyCancel}},[t._v(t._s(t.$t("text.cancel")))])],1)],1)],1)],1)],1)],1)],1)},tt=[],et=(r("a4d3"),r("e01a"),{props:["ad"],data:function(){return{dialog:!1,editedDescription:this.ad.description,editedTitle:this.ad.title,editedPrice:this.ad.price}},methods:{onMyCancel:function(){this.editedDescription=this.ad.description,this.editedTitle=this.ad.title,this.editedPrice=this.ad.price,this.dialog=!1},onMySave:function(){""!==this.editedDescription&&""!==this.editedTitle&&""!==this.editedPrice&&this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,price:this.editedPrice,id:this.ad.id}),this.dialog=!1}}}),rt=et,at=r("169a"),st=r("8654"),nt=r("a844"),ot=Object(l["a"])(rt,Z,tt,!1,null,null,null),it=ot.exports;d()(ot,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:H["a"],VDialog:at["a"],VDivider:h["a"],VFlex:W["a"],VLayout:q["a"],VSpacer:U["a"],VTextField:st["a"],VTextarea:nt["a"]});var lt={props:["id"],computed:{ad:function(){var t=this.id;return this.$store.getters.adById(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return null!==this.$store.getters.user&&this.ad.ownerId===this.$store.getters.user.id}},components:{EditAdModal:it}},ct=lt,dt=(r("680e"),r("62ad")),ut=r("0fd9"),pt=Object(l["a"])(ct,Q,X,!1,null,"097d7ed6",null),mt=pt.exports;d()(pt,{VCardActions:M["a"],VCardText:M["c"],VCol:dt["a"],VContainer:H["a"],VImg:y["a"],VProgressCircular:G["a"],VRow:ut["a"]});var vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{attrs:{row:"","justify-center":"",id:"loading"}},[r("div",{staticClass:"ma-12"},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)]):t.loading||0===t.myAds.length?t.loading||0!==t.myAds.length?t._e():r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.$t("text.youDoNotHaveAds")))])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm10:"",md10:"",lg10:"",xl8:"","offset-sm1":"","offset-md1":"","offset-lg1":"","offset-xl2":""}},[r("h1",{staticClass:"text--secondary mb-3 ml-5"},[t._v(" "+t._s(t.$t("text.listOfYourAds"))+" ")]),t._l(t.myAds,(function(e){return r("v-card",{key:e.id,staticClass:"elevation-10 mb-5 pl-7 pt-5 pb-5"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm11:"",md6:"",lg6:""}},[r("v-img",{attrs:{src:e.imageSrc}})],1),r("v-flex",{attrs:{xs11:"",sm12:"",md6:"",lg6:""}},[r("v-card-text",{staticClass:"pr-sm-10 pr-md-10 pr-lg-10"},[r("h2",{staticClass:"text--primary"},[t._v(t._s(e.title))]),r("p",{staticClass:"adDescription pt-3"},[t._v(t._s(e.description))])]),r("v-card-subtitle",{staticClass:"price pa-0 pl-4"},[t._v(" $"+t._s(e.price)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"info",attrs:{to:"/ad/"+e.id}},[t._v(t._s(t.$t("text.open")))])],1),r("v-card-actions",[r("v-spacer"),r("app-delete-modal",{attrs:{ad:e}})],1)],1)],1)],1)}))],2)],1)],1)},ft=[],gt={computed:{myAds:function(){return this.$store.getters.myAds},loading:function(){return this.$store.getters.loading}}},ht=gt,xt=(r("dbfa"),Object(l["a"])(ht,vt,ft,!1,null,"0e787c22",null)),bt=xt.exports;d()(xt,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardSubtitle:M["b"],VCardText:M["c"],VContainer:H["a"],VFlex:W["a"],VImg:y["a"],VLayout:q["a"],VProgressCircular:G["a"],VSpacer:U["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs10:"",sm8:"",md8:"",lg8:"",xl6:"","offset-xs1":"","offset-sm2":"","offset-md2":"","offset-lg2":"","offset-xl3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v(t._s(t.$t("text.addAd")))]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:t.$t("text.title"),type:"text",required:"",rules:t.titleRules},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{id:"password",name:"desctiption",label:t.$t("text.description"),type:"text",multiline:"",rules:t.descRules},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),r("v-text-field",{attrs:{name:"price",label:t.$t("text.price"),type:"number",required:"",rules:t.priceRules},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.triggerUpload}},[t._v(" "+t._s(t.$t("text.uploadImage"))+" "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.imageSrc?r("img",{staticClass:"ma-2",attrs:{src:t.imageSrc,height:"300px",alt:""}}):t._e()])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-switch",{staticClass:"pl-2",attrs:{label:t.$t("text.addToPromo")},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-spacer"),r("v-btn",{staticClass:"success ml-2",attrs:{loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.createAd}},[t._v(t._s(t.$t("text.createAd")))])],1)],1)],1)],1)],1)},wt=[],_t={data:function(){return{title:"",promo:!1,description:"",valid:!1,image:!1,imageSrc:"",price:""}},computed:{loading:function(){return this.$store.getters.loading},titleRules:function(){var t=this;return[function(e){return!!e||t.$t("text.titleIsMandatoryField")}]},descRules:function(){var t=this;return[function(e){return!!e||t.$t("text.descIsMandatoryField")}]},priceRules:function(){var t=this;return[function(e){return!!e||t.$t("text.priceIsMandatoryField")}]}},methods:{createAd:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,image:this.image,price:this.price};this.$store.dispatch("createAd",e).then((function(){t.$router.push("/list")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r}}},Vt=_t,Ct=r("4bd4"),$t=r("b73d"),At=Object(l["a"])(Vt,yt,wt,!1,null,"709fb959",null),kt=At.exports;d()(At,{VBtn:v["a"],VContainer:H["a"],VFlex:W["a"],VForm:Ct["a"],VIcon:b["a"],VLayout:q["a"],VSpacer:U["a"],VSwitch:$t["a"],VTextField:st["a"],VTextarea:nt["a"]});var Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v(t._s(t.$t("text.loginForm"))+" ")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:t.$t("text.email"),placeholder:t.$t("text.yourEmail"),name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:t.$t("text.password"),placeholder:t.$t("text.yourPassword"),name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||t.loading,loading:t.loading,color:"primary"},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("text.loginBtn"))+" ")])],1)],1)],1)],1)],1)},It=[],Ut={data:function(){return{valid:!1,email:"",password:"",emailRules:[function(t){return!!t||"Электронный адрес - обязательное поле"},function(t){return/.+@.+/.test(t)||"Некоректный формат адреса"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t.length>=6||"Пароль должен быть не меньше 6ти символов"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},Lt=Ut,St=r("71d9"),jt=Object(l["a"])(Lt,Ot,It,!1,null,"66011d85",null),Et=jt.exports;d()(jt,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardText:M["c"],VCol:dt["a"],VContainer:H["a"],VForm:Ct["a"],VRow:ut["a"],VSpacer:U["a"],VTextField:st["a"],VToolbar:St["a"],VToolbarTitle:L["b"]});var Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Форма регистрации")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{id:"confirm-password",label:"Пароль повторно",name:"confirm-password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.confirmPasswordRules},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.valid||!0===t.loading,loading:t.loading,color:"primary"},on:{click:t.onSubmit}},[t._v(" Зарегестрироваться ")])],1)],1)],1)],1)],1)},Tt=[],Ft={data:function(){var t=this;return{valid:!1,email:"",password:"",confirmPassword:"",emailRules:[function(t){return!!t||"Электронный адрес - обязательное поле"},function(t){return/.+@.+/.test(t)||"Некоректный формат адреса"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t.length>=6||"Пароль должен быть не меньше 6ти символов"}],confirmPasswordRules:[function(t){return!!t||"Подтверждающий пароль - обязательное поле"},function(e){return e===t.password||"Пароли должны совпадать"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},Pt=Ft,Dt=Object(l["a"])(Pt,Rt,Tt,!1,null,"e27080a6",null),Bt=Dt.exports;d()(Dt,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardText:M["c"],VCol:dt["a"],VContainer:H["a"],VForm:Ct["a"],VRow:ut["a"],VSpacer:U["a"],VTextField:st["a"],VToolbar:St["a"],VToolbarTitle:L["b"]});var Nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?r("v-layout",{attrs:{row:"","justify-center":"",id:"loading"}},[r("div",{staticClass:"ma-12"},[r("v-progress-circular",{attrs:{size:80,color:"primary",indeterminate:""}})],1)]):t.loading||0===t.orders.length?r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xl-start",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v(t._s(t.$t("text.youDoNotHaveOrders")))])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Заказы")]),r("v-list",{attrs:{subheader:"","two-line":"",flat:""}},[r("v-list-item-group",{attrs:{multiple:""}},t._l(t.orders,(function(e){return r("v-list-item",{key:e.id},[[r("v-list-item-action",[r("v-checkbox",{attrs:{color:"success","input-value":e.done},on:{change:function(r){return t.markDone(e)}}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.phone))])],1),r("v-list-item-action",[r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.adId}},[t._v("Открыть")])],1)]],2)})),1)],1)],1)],1)],1)},Mt=[],Yt={methods:{markDone:function(t){this.$store.dispatch("markOrderAsDone",t.id).then((function(){t.done=!0})).catch((function(){}))}},computed:{loading:function(){return this.$store.getters.loading},orders:function(){return this.$store.getters.allOrders}},created:function(){this.$store.dispatch("fetchOrders")}},zt=Yt,Ht=r("ac7c"),Wt=r("1800"),qt=Object(l["a"])(zt,Nt,Mt,!1,null,"5032b36a",null),Gt=qt.exports;d()(qt,{VBtn:v["a"],VCheckbox:Ht["a"],VContainer:H["a"],VFlex:W["a"],VLayout:q["a"],VList:w["a"],VListItem:_["a"],VListItemAction:Wt["a"],VListItemContent:C["a"],VListItemGroup:$["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VProgressCircular:G["a"]});var Jt=r("2f62"),Kt=(r("99af"),r("4de4"),r("7db0"),r("4160"),r("baa5"),r("fb6a"),r("a434"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("841c"),r("159b"),r("2fa7")),Qt=(r("96cf"),r("9f12")),Xt=r("8aa5");function Zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zt(r,!0).forEach((function(e){Object(Kt["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ee=function t(e,r,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(Qt["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=s,this.promo=n,this.price=o,this.id=i},re={state:{ads:[]},actions:{createAd:function(t,e){var r,a,s,n,o,i,l;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=t.commit,a=t.getters,console.log("CreateAd Action is called"),r("clearError"),r("setLoading",!0),console.log("= adObjFromForm: ",e),s=e.image,console.log("= Image: ",s),c.prev=7,n=new ee(e.title,e.description,a.user.id,e.imageSrc,e.promo,e.price),console.log("= NewAd: ",n),c.next=12,regeneratorRuntime.awrap(Xt["database"]().ref("ads").push(n));case 12:return o=c.sent,console.log("fireBaseAdValue: ",o),i=s.name.slice(s.name.lastIndexOf(".")),console.log("ImageExtension: ",i),c.next=18,regeneratorRuntime.awrap(Xt["storage"]().ref("ads/".concat(o.key,".").concat(i)).put(s));case 18:l=c.sent,console.log("= fileData: ",l),l.ref.getDownloadURL().then((function(t){Xt["database"]().ref("ads").child(o.key).update({imageSrc:t}),r("setLoading",!1),r("createAd",te({},n,{imageSrc:t,id:o.key})),console.log(t)})).then(),c.next=30;break;case 23:throw c.prev=23,c.t0=c["catch"](7),r("setError".error.message),console.log(c.t0.message),r("setLoading",!1),alert("Create ad Error"),c.t0;case 30:case"end":return c.stop()}}),null,null,[[7,23]])},fetchAds:function(t){var e,r,a,s;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.commit,e("clearError"),e("setLoading",!0),r=[],n.prev=4,n.next=7,regeneratorRuntime.awrap(Xt["database"]().ref("ads").once("value"));case 7:a=n.sent,console.log(a.val()),s=a.val(),null!=s&&Object.keys(s).forEach((function(t){var e=s[t];r.push(new ee(e.title,e.description,e.ownerId,e.imageSrc,e.promo,e.price,t))})),e("loadAds",r),e("setLoading",!1),n.next=20;break;case 15:throw n.prev=15,n.t0=n["catch"](4),e("setError",n.t0.message),e("setLoading",!1),n.t0;case 20:case"end":return n.stop()}}),null,null,[[4,15]])},updateAd:function(t,e){var r,a,s,n,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=t.commit,a=e.title,s=e.description,n=e.price,o=e.id,r("clearError"),r("setLoading",!0),console.log("UpdateAd action is called"),i.prev=5,i.next=8,regeneratorRuntime.awrap(Xt["database"]().ref("ads").child(o).update({title:a,description:s,price:n}));case 8:r("updateAd",{title:a,description:s,price:n,id:o}),r("setLoading",!1),i.next=17;break;case 12:throw i.prev=12,i.t0=i["catch"](5),r("setError",i.t0.message),r("setLoading",!1),i.t0;case 17:case"end":return i.stop()}}),null,null,[[5,12]])},deleteAd:function(t,e){var r,a,s,n,o,i,l;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=t.commit,a=e.id,s=e.imageSrc,r("clearError"),r("setLoading",!0),console.log("DeleteAd action is called"),console.log("ImageSrc",s),n=a+".",c.prev=7,c.next=10,regeneratorRuntime.awrap(Xt["database"]().ref("ads").child(a).remove());case 10:o=[".png",".bmp",".jpg"],i=0;case 12:if(!(i<o.length)){c.next=22;break}if(l=s.search(o[i]),-1==l){c.next=19;break}return console.log("Image extension is",o[i]),n+=o[i],console.log("Image name with Ext",n),c.abrupt("break",22);case 19:i++,c.next=12;break;case 22:return c.t0=regeneratorRuntime,c.next=25,regeneratorRuntime.awrap(Xt["storage"]().ref("ads").child(n).delete());case 25:return c.t1=c.sent,c.next=28,c.t0.awrap.call(c.t0,c.t1);case 28:r("deleteAd",{id:a}),r("setLoading",!1),c.next=37;break;case 32:throw c.prev=32,c.t2=c["catch"](7),r("setError",c.t2.message),r("setLoading",!1),c.t2;case 37:case"end":return c.stop()}}),null,null,[[7,32]])}},mutations:{createAd:function(t,e){console.log("CreateAd mutation is called"),console.log(t),console.log("adObjFromFormAndFireBase:",e),t.ads.push(e)},loadAds:function(t,e){t.ads=e},updateAd:function(t,e){var r=e.title,a=e.description,s=e.price,n=e.id;console.log("UpdateAd mutation is called"),console.log("Id",n);var o=null;if(void 0!==t.ads)for(var i=0;i<t.ads.length;i++)if(t.ads[i].id===n){o=t.ads[i];break}console.log("Ad to edit found",o),o.title=r,o.description=a,o.price=s},deleteAd:function(t,e){var r=e.id;if(console.log("deleteAd mutation is called"),console.log("Id",r),void 0!==t.ads)for(var a=0;a<t.ads.length;a++)if(t.ads[a].id===r){t.ads.splice(a,1);break}}},getters:{ads:function(t){return t.ads},promoAds:function(t){return t.ads.filter((function(t){return!0===t.promo}))},myAds:function(t,e){return console.log("state ads",t.ads),console.log("getters user id",e.user.id),t.ads.filter((function(t){return t.ownerId===e.user.id}))},adById:function(t){return function(e){return t.ads.find((function(t){return t.id===e}))}}}},ae=function t(e){Object(Qt["a"])(this,t),this.id=e},se={state:{user:null,firebaseUserObject:null},mutations:{setUser:function(t,e){t.user=e},setFireBaseUserObject:function(t,e){t.firebaseUserObject=e},updateUserInStore:function(t){var e=t.firebaseUserObject.user;console.log("Before: this.firebaseUserObject.user.displayName",e.displayName),console.log("Before: this.firebaseUserObject.user.photoURL",e.photoURL)}},actions:{registerUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,a=e.email,s=e.password,r("clearError"),r("setLoading",!0),o.prev=4,o.next=7,regeneratorRuntime.awrap(Xt["auth"]().createUserWithEmailAndPassword(a,s));case 7:n=o.sent,r("setUser",new ae(n.uid)),r("setFireBaseUserObject",n),r("setLoading",!1),o.next=18;break;case 13:throw o.prev=13,o.t0=o["catch"](4),r("setLoading",!1),r("setError",o.t0.message),o.t0;case 18:case"end":return o.stop()}}),null,null,[[4,13]])},loginUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,a=e.email,s=e.password,r("clearError"),r("setLoading",!0),o.prev=4,o.next=7,regeneratorRuntime.awrap(Xt["auth"]().signInWithEmailAndPassword(a,s));case 7:n=o.sent,console.log("userFromFireBase",n),console.log("userFromFireBase.UID",n.user.uid),console.log("userFromFireBase.Name",n.user.displayName),r("setUser",new ae(n.user.uid)),r("setFireBaseUserObject",n),r("setLoading",!1),o.next=21;break;case 16:throw o.prev=16,o.t0=o["catch"](4),r("setLoading",!1),r("setError",o.t0.message),o.t0;case 21:case"end":return o.stop()}}),null,null,[[4,16]])},updateUser:function(t,e){var r,a,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=t.commit,a=e.userName,s=e.avatarSrc,r("clearError"),r("setLoading",!0),console.log("New User Name",a),console.log("New avatarSrc",s),o.next=8,regeneratorRuntime.awrap(Xt["auth"]().currentUser);case 8:return n=o.sent,console.log("justACurrentUser",n),o.next=12,regeneratorRuntime.awrap(Xt["auth"]().currentUser.updateProfile({displayName:a,photoURL:s}));case 12:console.log("justACurrentUser",n),r("setFireBaseUserObject",n),r("setLoading",!1);case 15:case"end":return o.stop()}}))},logoutUser:function(t){var e=t.commit;Xt["auth"]().signOut(),e("setUser",null),e("setFireBaseUserObject",null)}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user},firebaseUserObject:function(t){return t.firebaseUserObject},currentUserAvatar:function(t){return null!==t.firebaseUserObject?t.firebaseUserObject.user.photoURL:"http://bootdey.com/img/Content/avatar/avatar7.png"},currentUserName:function(t){return null!==t.firebaseUserObject?t.firebaseUserObject.user.displayName:"Unauthorized user"}}},ne={state:{loading:!1,error:null},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},oe=function t(e,r,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(Qt["a"])(this,t),this.name=e,this.phone=r,this.adId=a,this.done=s,this.id=n},ie={state:{orders:[]},actions:{createOrder:function(t,e){var r,a,s,n,o,i;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return r=t.commit,a=e.name,s=e.phone,n=e.adId,o=e.ownerId,i=new oe(a,s,n),console.log("Order",i),r("clearError"),l.prev=5,l.next=8,regeneratorRuntime.awrap(Xt["database"]().ref("/users/".concat(o,"/orders")).push(i));case 8:l.next=13;break;case 10:l.prev=10,l.t0=l["catch"](5),r("setError",l.t0.message);case 13:case"end":return l.stop()}}),null,null,[[5,10]])},fetchOrders:function(t){var e,r,a,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.commit,r=t.getters,e("setLoading",!0),e("clearError"),a=[],o.prev=4,o.next=7,regeneratorRuntime.awrap(Xt["database"]().ref("/users/".concat(r.user.id,"/orders")).once("value"));case 7:s=o.sent,n=s.val(),null!=n&&(console.log("++++ Before object keys",n),Object.keys(n).forEach((function(t){var e=n[t];a.push(new oe(e.name,e.phone,e.adId,e.done,t))}))),e("loadOrders",a),e("setLoading",!1),o.next=18;break;case 14:o.prev=14,o.t0=o["catch"](4),e("setLoading",!1),e("setError",o.t0.message);case 18:case"end":return o.stop()}}),null,null,[[4,14]])},markOrderAsDone:function(t,e){var r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=t.getters,r("clearError"),s.prev=2,s.next=5,regeneratorRuntime.awrap(Xt["database"]().ref("/users/".concat(a.user.id,"/orders")).child(e).update({done:!0}));case 5:s.next=11;break;case 7:throw s.prev=7,s.t0=s["catch"](2),r("setError",s.t0.message),s.t0;case 11:case"end":return s.stop()}}),null,null,[[2,7]])}},mutations:{loadOrders:function(t,e){t.orders=e}},getters:{completedOrders:function(t){return t.orders.filter((function(t){return t.done}))},incompliteOrders:function(t){return t.orders.filter((function(t){return!t.done}))},allOrders:function(t,e){return e.incompliteOrders.concat(e.completedOrders)}}};a["a"].use(Jt["a"]);var le=new Jt["a"].Store({modules:{ads:re,user:se,shared:ne,orders:ie}}),ce=function(t,e,r){le.getters.user?r():r("/login?loginError=true")},de=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm4:"","offset-sm4":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v(t._s(t.$t("text.myAccount")))]),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"userName",label:t.$t("text.yourName"),type:"text",required:"",rules:[function(e){return e&&e.length<=20||t.$t("text.nameShouldBelessThan")}]},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),r("v-img",{attrs:{height:"200px",src:t.currentUserAvatar}})],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"blue-grey"},on:{click:t.triggerUpload}},[t._v(" "+t._s(t.$t("text.uploadNewAvatar"))+" "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("v-btn",{staticClass:"ma-2 success",attrs:{loading:t.loading,disabled:!t.valid||!t.avatarSrc||t.loading},on:{click:t.updateUser}},[t._v(" "+t._s(t.$t("text.saveChanges"))+" ")]),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.avatarSrc?r("img",{staticClass:"ma-2",attrs:{src:t.avatarSrc,height:"300px",alt:""}}):t._e()])],1)],1)],1)],1)},ue=[],pe={data:function(){return{valid:!1,avatarSrc:!1,userName:this.$store.getters.currentUserName}},mounted:function(){},computed:{loading:function(){return this.$store.getters.loading},currentUserAvatar:function(){return this.$store.getters.currentUserAvatar},currentUserName:function(){return this.$store.getters.currentUserName},currentUserFirebaseObject:function(){return this.$store.getters.firebaseUserObject}},methods:{updateUser:function(){if(this.$refs.form.validate()&&this.avatarSrc){var t={userName:this.userName,avatarSrc:"https://www.w3schools.com/howto/img_avatar.png"};this.$store.dispatch("updateUser",t).then((function(){console.log("- Account UPDATED")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.avatarSrc=a.result},a.readAsDataURL(r),this.avatarSrc=r}}},me=pe,ve=Object(l["a"])(me,de,ue,!1,null,"ff48f534",null),fe=ve.exports;d()(ve,{VBtn:v["a"],VContainer:H["a"],VFlex:W["a"],VForm:Ct["a"],VIcon:b["a"],VImg:y["a"],VLayout:q["a"],VTextField:st["a"]}),a["a"].use(F["a"]);var ge=new F["a"]({routes:[{path:"",name:"Home",component:K},{path:"/ad/:id",props:!0,name:"Ad",component:mt},{path:"/list",name:"AdList",component:bt,beforeEnter:ce},{path:"/new",name:"NewAd",component:kt,beforeEnter:ce},{path:"/login",name:"Login",component:Et},{path:"/registration",name:"Registration",component:Bt},{path:"/orders",name:"Orders",component:Gt,beforeEnter:ce},{path:"/account",name:"Account",component:fe,beforeEnter:ce}],mode:"history"}),he=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"primary mr-2",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.buy")))]),r("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",{staticClass:"text--primary"},[t._v(" "+t._s(t.$t("text.doYouWannaBuyThis"))+" ")])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{name:"name",label:t.$t("text.yourName"),type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{name:"phone",label:t.$t("text.yourPhone"),type:"text"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"success",attrs:{"aria-disabled":t.localLoading,loading:t.localLoading},on:{click:t.onMyBuy}},[t._v(" "+t._s(t.$t("text.buy"))+" ")]),r("v-btn",{attrs:{"aria-disabled":t.localLoading,text:""},on:{click:t.onMyCancel}},[t._v(" "+t._s(t.$t("text.cancel"))+" ")])],1)],1)],1)],1)],1)],1)],1)},xe=[],be={props:["ad"],data:function(){return{dialog:!1,name:"",phone:"",localLoading:!1}},methods:{onMyCancel:function(){this.name="",this.phone="",this.dialog=!1},onMyBuy:function(){var t=this;""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally((function(){t.name="",t.phone="",t.localLoading=!1,t.dialog=!1})))}}},ye=be,we=Object(l["a"])(ye,he,xe,!1,null,null,null),_e=we.exports;d()(we,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:H["a"],VDialog:at["a"],VDivider:h["a"],VFlex:W["a"],VLayout:q["a"],VSpacer:U["a"],VTextField:st["a"]});var Ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{staticClass:"error",on:{click:function(e){t.dialog=!0}}},[t._v(t._s(t.$t("text.delete")))]),r("v-dialog",{attrs:{persistent:"","max-width":"900"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h3",{staticClass:"text--primary"},[t._v(t._s(t.$t("text.deleteThisAd")))])])],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"primary",on:{click:t.onMyDelete}},[t._v(t._s(t.$t("text.delete")))]),r("v-btn",{staticClass:"openButton",attrs:{text:""},on:{click:t.onMyCancel}},[t._v(t._s(t.$t("text.cancel")))])],1)],1)],1)],1)],1)],1)],1)},Ce=[],$e={props:["ad"],data:function(){return{dialog:!1}},methods:{onMyCancel:function(){this.dialog=!1},onMyDelete:function(){this.$store.dispatch("deleteAd",{id:this.ad.id,imageSrc:this.ad.imageSrc}),this.dialog=!1}}},Ae=$e,ke=Object(l["a"])(Ae,Ve,Ce,!1,null,null,null),Oe=ke.exports;d()(ke,{VBtn:v["a"],VCard:f["a"],VCardActions:M["a"],VCardTitle:M["d"],VContainer:H["a"],VDialog:at["a"],VFlex:W["a"],VLayout:q["a"],VSpacer:U["a"]});var Ie=r("d622"),Ue=r.n(Ie),Le=r("a925"),Se={text:{loginForm:"Sign-In",password:"Password",email:"Email",loginBtn:"Sign-in",orders:"Orders",newAd:"Create new Ad",myAds:"My Ads",myAccount:"My Account",signOut:"Sign Out",signIn:"Sign In",registration:"Create Account",doYouWannaBuyThis:"Do you want to buy this?",buy:"Buy",cancel:"Cancel",open:"Open",delete:"Delete",yourName:"Your name",yourPhone:"Your phone",youDoNotHaveOrders:"You do not have any order yet",youDoNotHaveAds:"You have no any ad yet",addAd:"Create new Ad",uploadImage:"Upload Image",addToPromo:"Add to promo?",createAd:"Create ad",title:"Title",description:"Description",titleIsMandatoryField:"Title is a mandatory field",descIsMandatoryField:"Description is a mandatory field",priceIsMandatoryField:"Price is a mandatory field",listOfYourAds:"List of  your ads",price:"Price",edit:"Edit",editAd:"Edit ad",save:"Save",deleteThisAd:"Delete this ad?",hello:"Hello",uploadNewAvatar:"Upload new avatar image",saveChanges:"Save changes",nameShouldBelessThan:"We are sorry, name should be less than 20 symbols",yourEmail:"Your email address",yourPassword:"Your password"}},je={text:{loginForm:"Форма входа",password:"Пароль",email:"Почта",loginBtn:"Войти",orders:"Заказы",newAd:"Новое объявление",myAds:"Мои объявления",myAccount:"Мой аккаунт",signOut:"Выйти",signIn:"Войти",registration:"Регистрация",doYouWannaBuyThis:"Вы хотите купить этот товар?",buy:"Купить",cancel:"Отмена",open:"Открыть",delete:"Удалить",yourName:"Ваше имя",yourPhone:"Ваш телефон",youDoNotHaveOrders:"У Вас нет заказов",youDoNotHaveAds:"У Вас пока нет объявлений",addAd:"Добавить объявление",uploadImage:"Загрузить изображение",addToPromo:"Добавить в промо?",createAd:"Создать объявление",title:"Название",description:"Описание",titleIsMandatoryField:"Название товара - обязательное поле",descIsMandatoryField:"Описание товара - обязательное поле",priceIsMandatoryField:"Цена товара - обязательное поле",listOfYourAds:"Список ваших объявлений",price:"Цена",edit:"Редактировать",editAd:"Редактировать объявление",save:"Сохранить",deleteThisAd:"Удалить это объявление?",hello:"Здравствуйте",uploadNewAvatar:"Загрузить новый аватар",saveChanges:"Сохранить изменения",nameShouldBelessThan:"Извините. Имя не должно превышать 20 символов",yourEmail:"Ваш email адрес",yourPassword:"Ваш пароль"}};a["a"].config.productionTip=!1,a["a"].component("app-buy-modal",_e),a["a"].component("app-delete-modal",Oe),a["a"].use(T),a["a"].use(Le["a"]);var Ee={EN:Se,RU:je},Re=new Le["a"]({locale:"EN",messages:Ee});new a["a"]({router:ge,store:le,vuetify:T,i18n:Re,created:function(){Xt["initializeApp"](Ue.a),this.$store.dispatch("fetchAds")},render:function(t){return t(j)}}).$mount("#app")},"680e":function(t,e,r){"use strict";var a=r("915e"),s=r.n(a);s.a},"72a1":function(t,e,r){},"915e":function(t,e,r){},a6ea:function(t,e,r){"use strict";var a=r("1086"),s=r.n(a);s.a},c581:function(t,e,r){t.exports=r.p+"img/my_vss_logo_1.b902ec46.png"},d3c4:function(t,e,r){},d622:function(t,e){t.exports={apiKey:"AIzaSyC-_fL99SRDOwRlcAvoDZsM58d2jTlBbNM",authDomain:"vue-ad-project-stas.firebaseapp.com",databaseURL:"https://vue-ad-project-stas.firebaseio.com",projectId:"vue-ad-project-stas",storageBucket:"vue-ad-project-stas.appspot.com",messagingSenderId:"83442067408",appId:"1:83442067408:web:5d9bc204b127dbe08c7bd5",measurementId:"G-8WP2EQKSYX"}},dbfa:function(t,e,r){"use strict";var a=r("d3c4"),s=r.n(a);s.a}});
//# sourceMappingURL=app.817fd618.js.map